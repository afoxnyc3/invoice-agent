# Gitleaks Configuration for Invoice Agent
# https://github.com/gitleaks/gitleaks

title = "Invoice Agent Gitleaks Configuration"

[extend]
# Use default gitleaks config as base
useDefault = true

# Global allowlist for known false positives
[allowlist]
description = "Allowlisted paths and patterns for Invoice Agent"
paths = [
  # Test fixtures with fake credentials
  '''tests/.*''',
  '''\.claude/.*''',
  # Local development configuration template
  '''src/local\.settings\.json\.template''',
  # Documentation examples and ADRs
  '''docs/.*\.md''',
  '''README\.md''',
  '''CLAUDE\.md''',
]
regexes = [
  # Azure connection string patterns in templates (not real credentials)
  '''DefaultEndpointsProtocol=https;AccountName=\$\{.*\};EndpointSuffix=\$\{.*\};AccountKey=\$\{.*\}''',
  # Azurite development storage emulator well-known key
  '''DefaultEndpointsProtocol=https;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==''',
  # Bicep template variables and parameters
  '''listKeys\(\)\.keys\[0\]\.value''',
  '''@secure\(\)''',
  # GitHub Actions environment variable references
  '''\$\{\{ secrets\..*\}\}''',
  '''\$\{\{ env\..*\}\}''',
  # Known test/example GUIDs and ULIDs
  '''01ARZ3NDEKTSV4RRFFQ69G5FAV''',
  '''00000000-0000-0000-0000-000000000000''',
]
