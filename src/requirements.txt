# Azure Functions and Core
azure-functions==1.17.0
# azure-functions-worker - NOT NEEDED for dev/CI (Azure runtime provides it)
# Latest PyPI version is 1.1.9 which requires old grpcio~=1.33.1 (incompatible with Python 3.11)

# Azure SDK
azure-identity==1.15.0
azure-data-tables==12.4.4
azure-storage-blob==12.19.0

# gRPC - Pinned to exact versions for Python 3.11 compatibility
# (Transitive dependency from azure-identity)
grpcio==1.60.1
grpcio-tools==1.60.1

# Not needed for MVP (uncomment when implementing)
# azure-keyvault-secrets==4.7.0
azure-storage-queue==12.8.0  # Required by setup-local.sh for queue creation
# azure-monitor-query==1.2.0  # Pulls in grpcio - use when implementing Application Insights

# Microsoft Graph
msal==1.25.0
requests>=2.32.5  # CVE-2024-35195 fix (cert verification bypass)

# Data Validation and Processing
pydantic==2.10.3
email-validator==2.1.0  # Required by Pydantic EmailStr
python-ulid==2.2.0
rapidfuzz==3.10.1  # Fuzzy string matching for vendor name variations

# PDF Processing and AI
pdfplumber==0.10.3  # PDF text extraction for vendor identification
openai==1.54.0  # Azure OpenAI SDK for intelligent vendor extraction
httpx>=0.25.0,<1  # Pin httpx for openai compatibility (fixes 'proxies' arg error)

# Resilience
pybreaker==1.2.0  # Circuit breaker pattern for external dependencies

# Development and Testing
pytest==7.4.3
pytest-cov==4.1.0
pytest-mock==3.12.0
pytest-asyncio==0.21.1
pytest-randomly>=3.15.0  # Randomize test order to detect order dependencies
pytest-timeout>=2.2.0  # Prevent hanging tests with timeout enforcement

# Type Checking and Linting
mypy==1.7.0
types-requests==2.31.0

# Security Scanning
bandit==1.7.5